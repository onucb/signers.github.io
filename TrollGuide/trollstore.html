<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta property="og:title" content="TrollGuide">
    <meta property="og:image" content="https://bomberfish.ca/TrollGuide/trollstore.png">
    <meta property="og:url" content="http://bomberfish.ca/TrollGuide">
    <meta property="og:description" content="Website that makes it easier to install TrollStore.">
    <meta property="og:site_name" content="BomberFish">
    <link rel="stylesheet" href="styles.css">
    <title>TrollStore</title>
    <meta name="theme-color" content="var(--gray6)">
</head>

<body>
    <div id="container" style="height: 75%; width: 100%; padding-bottom: 0vw;">
        <img src="trollstore.png" width="25%" height="100%" style="display: inline-flex; ">
        <div style="margin-left: 1%; margin-top: 1%; display: inline-block; position:absolute">
            <h1 class="title" style="display: inline;">TrollStore</h1><br>
            <h5 class="subtitle">Установите IPA без отзыва</h5>&nbsp;&nbsp;&nbsp;&nbsp;<br>
            <button id="get" style="margin-top: 5%" onclick='buttonClick(document.getElementById("get"))'>Get</button><br>
        </div><button id="share"></button><br></div></button>
        <div style="margin-left: 2%;">
            <p id="notidevice" class="error">Посетите эту страницу на вашем iPhone, iPad или iPod touch для установки.</p>
            <p id="155" class="warning">Предупреждение: Release Candidate/Final build (19F77) не поддерживаются!</p>
            <p id="156" class="warning">Предупреждение: Release Candidate 1 (19G69) и Release Candidate 2/Final build (19G71) не поддерживаются!</p>
            <p id="m1" class="warning">Предупреждение: Поддержка Apple Silicon Mac является экспериментальной. Попробуйте на свой страх и риск!</p>
            <p id="checkra1n" class="warning">Предупреждение: для iPhone до iPhone XS и iPod Touch 2018 года (arm64, A8-A11) потребуется <a href="https://github.com/opa334/TrollStore/blob/main/install_trollhelper.md">разорванная установка через checkra1n</a>!</p>
            <p id="ramdisk" class="warning">Предупреждение: для iPhone до iPhone XS и iPod Touch 2018 года (arm64, A8-A11) потребуется <a href="https://github.com/opa334/TrollStore/blob/main/install_sshrd.md">установка через SSH ramdisk</a>!</p>
            <h2>О магазине троллей</h2>
            <p>TrollStore - это постоянное тюремное приложение, которое может постоянно устанавливать любой IPA, который вы открываете в нем.</p>
            <p>Это работает из-за ошибки AMFI/CoreTrust, когда iOS не проверяет, является ли корневой сертификат, используемый для подписи двоичного файла, законным.</p>
            <h2>Обновление TrollStore</h2>
            <p>Когда будет доступно новое обновление TrollStore, кнопка для его установки появится в верхней части настроек TrollStore. После нажатия кнопки TrollStore автоматически загрузит обновление, установит его и перезагрузит.</p>
            <p>Кроме того (если что-то пойдет не так), вы можете скачать файл TrollStore.tar в разделе "Релизы" и открыть его в TrollStore, TrollStore установит обновление и перезагрузит.</p>
            <h2>Удаление приложения для удаления</h2>
            <p>Приложения, установленные из TrollStore, могут быть удалены только из самого TrollStore, коснитесь приложения или смахните его вправо на вкладке "Приложения", чтобы удалить его.</p>
            <h2>Помощник по настойчивости</h2>
            <p>Ошибки CoreTrust, используемой в TrollStore, достаточно только для установки "Системных" приложений, это связано с тем, что FrontBoard имеет дополнительную проверку безопасности (она вызывает libmis) каждый раз перед запуском пользовательского приложения. К сожалению, установка невозможна

Новые "Системные" приложения, которые остаются через перезагрузку кэша значков. Поэтому, когда iOS перезагрузит кэш значков, все установленные приложения TrollStore, включая сам TrollStore, вернутся в состояние "Пользователь" и больше не будут запускаться.</p>
            <p>Единственный способ обойти это - установить помощника персистентности в системное приложение, затем этот помощник может быть использован для перерегистрации TrollStore и его установленных приложений как "Система", чтобы они снова стали доступными для запуска, доступна опция для этого.

В настройках TrollStore.</p>
            <p>На взломанной iOS 14, когда TrollHelper используется для установки, он находится в /Applications и будет сохраняться как приложение "Система" через перезагрузку кэша значков, поэтому TrollHelper используется в качестве помощника сохранения в iOS 14.</p>
            <h2>Схема URL</h2>
            <p>Начиная с версии 1.3 TrollStore заменяет схему системных URL-адресов "apple-magnifier" (это делается таким образом, чтобы обнаружения "jailbreak" не могли обнаружить TrollStore, как если бы у TrollStore была уникальная схема URL). Эту схему URL можно использовать для установки приложений

Прямо из браузера формат выглядит следующим образом:</p>
            <code>apple-magnifier://install?url=&lt;URL_to_IPA&gt;</code>
            <p>На устройствах, на которых не установлен TrollStore (1.3+), это просто откроет приложение лупы.</p>
            <h2>Особенности</h2>
            <p>Двоичный файл внутри IPA может иметь произвольные права, поддельно подписать их с помощью ldid и права, которые вы хотите (<code>ldid -S&lt;path/to/entitlements.plist&gt; &lt;path/to/binary&gt;</code>), а TrollStore сохранит права

При их отставке с поддельным корневым сертификатом при установке. Это дает вам много возможностей, некоторые из которых описаны ниже.</p>
            <h4>Запрещенные права</h4>
            <p>iOS 15 на A12+ запретила следующие три права, связанные с запуском неподписанного кода, их невозможно получить без обхода PPL, приложения, подписанные ими, завершат работу при запуске.</p>
            <code>com.apple.private.cs.debugger</code>
            <p>Динамический кодизайн</p>
            <p><code>com.apple.private.skip-library-validation</code></p>
            <h4>Распаковка пескобоксов</h4>
            <p>Ваше приложение может работать без песочницы, используя одно из следующих прав:</p>
            <code>&lt;key&gt;com.apple.private.security.container-required&lt;/key&gt;
            &lt;false/&gt;</code>
            <code>&lt;key&gt;com.apple.private.security.no-container&lt;/key&gt;
              &lt;true/&gt;</code>
            <code>&lt;key&gt;com.apple.private.security.no-sandbox&lt;/key&gt;
                &lt;true/&gt;</code>
            <p>Третий рекомендуется, если вы все еще хотите контейнер песочницы для вашего приложения.</p>
            <p>Вам также может понадобиться право на приложение платформы, чтобы они работали должным образом.:</p>
            <code>&lt;key&gt;platform-application&lt;/key&gt;
              &lt;true/&gt;</code>
            <p>Обратите внимание, что право на приложение платформы вызывает побочные эффекты, такие как некоторые части песочницы становятся более жесткими, поэтому вам могут понадобиться дополнительные частные права, чтобы обойти это. (Например, после этого вам понадобится исключение

Право для каждого класса клиентов пользователей IOKit, к которому вы хотите получить доступ).</p>
            <h4>Помощники по корню</h4>
            <p>Когда ваше приложение не изолировано, вы можете возродить другие двоичные файлы с помощью posix_spawn, вы также можете породить двоичные файлы как root со следующим правом:</p>
            <code>&lt;key&gt;com.apple.private.persona-mgmt&lt;/key&gt;
              &lt;true/&gt;</code>
            <p>Вы также можете добавить свои собственные двоичные файлы в свой пакет приложений.</p>
            <p>После этого вы можете использовать функцию <a href="https://github.com/opa334/TrollStore/blob/main/Shared/TSUtil.m#L74">spawnRoot в TSUtil.m</a>, чтобы породить двоичный файл как root.</p>
            <h4>Вещи, которые невозможно использовать TrollStore:</h4>
            <ul type="circle">
                <li>Получение правильной платформеризации / <code>CS_PLATFORMIZED</code></li>
                <li>Порождение демона запуска (потребуется <code>CS_PLATFORMIZED</code>)</li>
                <li>Внедрение настройки в системный процесс (требуется <code>CS_PLATFORMIZED</code>, a userland PAC bypass and a PMAP trust level bypass)</li>
            </ul>
            <h2>Кредиты и дальнейшее чтение</h2>
            <p><a href="https://github.com/opa334/TrollStore">Репозиторий TrollStore</a> для README</p>
            <p><a href="https://twitter.com/LinusHenze">@LinusHenze</a> - Обнаружена ошибка CoreTrust, которая позволяет TrollStore работать.</p>
            <p><a href="https://youtu.be/NIyKNjNNB5Q?t=3046">Презентация Fugu15</a></p>
            <p><a href="https://worthdoingbadly.com/coretrust/">Напишите об ошибке CoreTrust с дополнительной информацией.</a></p>
        </div>
</body>
<script src="script.js"></script>

</html>
